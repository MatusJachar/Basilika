{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./web/ImageRef","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":167},"end":{"line":4,"column":41,"index":208}}],"key":"DaLgxKDG0piIGP0khmDMhI0hUnM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _webImageRef = require(_dependencyMap[1], \"./web/ImageRef\");\n  var ImageRefWeb = _interopDefault(_webImageRef);\n  class ImageModule extends _expoModulesCore.NativeModule {\n    Image = ImageRefWeb.default;\n    async prefetch(urls, _, __) {\n      const urlsArray = Array.isArray(urls) ? urls : [urls];\n      return new Promise(resolve => {\n        let imagesLoaded = 0;\n        urlsArray.forEach(url => {\n          const img = new Image();\n          img.src = url;\n          img.onload = () => {\n            imagesLoaded++;\n            if (imagesLoaded === urlsArray.length) {\n              resolve(true);\n            }\n          };\n          img.onerror = () => resolve(false);\n        });\n      });\n    }\n    async clearMemoryCache() {\n      return false;\n    }\n    async clearDiskCache() {\n      return false;\n    }\n    configureCache(_) {}\n    async loadAsync(source) {\n      if (!source.uri) {\n        // TODO: Add support for sources without the uri, e.g. blurhash and thumbhash.\n        throw new Error('The image source must have the \"uri\" property defined');\n      }\n      const response = await fetch(source.uri, {\n        headers: source.headers\n      });\n      if (!response.ok) {\n        throw new Error(`Image request failed with the status code: ${response.status}`);\n      }\n      const blob = await response.blob();\n      const imageObjectUrl = URL.createObjectURL(blob);\n      const image = await loadImageElementAsync(imageObjectUrl);\n      return ImageRefWeb.default.init(imageObjectUrl, image.width, image.height, response.headers.get('Content-Type'));\n    }\n    getCachePathAsync(_) {\n      return Promise.resolve(null);\n    }\n    generateBlurhashAsync(_, __) {\n      throw new Error('Blurhash generation is not supported on Web.');\n    }\n    generateThumbhashAsync(_) {\n      throw new Error('Thumbhash generation is not supported on Web.');\n    }\n  }\n\n  /**\n   * Helper that resolves to an `<img />` element once it finishes loading the given source.\n   */\n  async function loadImageElementAsync(src) {\n    return new Promise((resolve, reject) => {\n      const image = document.createElement('img');\n      image.onload = () => resolve(image);\n      image.onerror = () => reject(new Error(`Unable to load the image from '${src}'`));\n      image.src = src;\n    });\n  }\n  var _default = (0, _expoModulesCore.registerWebModule)(ImageModule, 'ExpoImage');\n});","lineCount":86,"map":[[12,2,93,0,"Object"],[12,8,93,0],[12,9,93,0,"defineProperty"],[12,23,93,0],[12,24,93,0,"exports"],[12,31,93,0],[13,4,93,0,"enumerable"],[13,14,93,0],[14,4,93,0,"get"],[14,7,93,0],[14,18,93,0,"get"],[14,19,93,0],[15,6,93,0],[15,13,93,0,"_default"],[15,21,93,0],[16,4,93,0],[17,2,93,0],[18,2,1,0],[18,6,1,0,"_expoModulesCore"],[18,22,1,0],[18,25,1,0,"require"],[18,32,1,0],[18,33,1,0,"_dependencyMap"],[18,47,1,0],[19,2,4,0],[19,6,4,0,"_webImageRef"],[19,18,4,0],[19,21,4,0,"require"],[19,28,4,0],[19,29,4,0,"_dependencyMap"],[19,43,4,0],[20,2,4,0],[20,6,4,0,"ImageRefWeb"],[20,17,4,0],[20,20,4,0,"_interopDefault"],[20,35,4,0],[20,36,4,0,"_webImageRef"],[20,48,4,0],[21,2,6,0],[21,8,6,6,"ImageModule"],[21,19,6,17],[21,28,6,26,"NativeModule"],[21,44,6,38],[21,45,6,38,"NativeModule"],[21,57,6,38],[21,58,6,68],[22,4,7,2,"Image"],[22,9,7,7],[22,12,7,27,"ImageRefWeb"],[22,23,7,38],[22,24,7,38,"default"],[22,31,7,38],[23,4,9,2],[23,10,9,8,"prefetch"],[23,18,9,16,"prefetch"],[23,19,9,17,"urls"],[23,23,9,40],[23,25,9,42,"_"],[23,26,9,52],[23,28,9,54,"__"],[23,30,9,65],[23,32,9,85],[24,6,10,4],[24,12,10,10,"urlsArray"],[24,21,10,19],[24,24,10,22,"Array"],[24,29,10,27],[24,30,10,28,"isArray"],[24,37,10,35],[24,38,10,36,"urls"],[24,42,10,40],[24,43,10,41],[24,46,10,44,"urls"],[24,50,10,48],[24,53,10,51],[24,54,10,52,"urls"],[24,58,10,56],[24,59,10,57],[25,6,12,4],[25,13,12,11],[25,17,12,15,"Promise"],[25,24,12,22],[25,25,12,33,"resolve"],[25,32,12,40],[25,36,12,45],[26,8,13,6],[26,12,13,10,"imagesLoaded"],[26,24,13,22],[26,27,13,25],[26,28,13,26],[27,8,15,6,"urlsArray"],[27,17,15,15],[27,18,15,16,"forEach"],[27,25,15,23],[27,26,15,25,"url"],[27,29,15,28],[27,33,15,33],[28,10,16,8],[28,16,16,14,"img"],[28,19,16,17],[28,22,16,20],[28,26,16,24,"Image"],[28,31,16,29],[28,32,16,30],[28,33,16,31],[29,10,17,8,"img"],[29,13,17,11],[29,14,17,12,"src"],[29,17,17,15],[29,20,17,18,"url"],[29,23,17,21],[30,10,18,8,"img"],[30,13,18,11],[30,14,18,12,"onload"],[30,20,18,18],[30,23,18,21],[30,29,18,27],[31,12,19,10,"imagesLoaded"],[31,24,19,22],[31,26,19,24],[32,12,21,10],[32,16,21,14,"imagesLoaded"],[32,28,21,26],[32,33,21,31,"urlsArray"],[32,42,21,40],[32,43,21,41,"length"],[32,49,21,47],[32,51,21,49],[33,14,22,12,"resolve"],[33,21,22,19],[33,22,22,20],[33,26,22,24],[33,27,22,25],[34,12,23,10],[35,10,24,8],[35,11,24,9],[36,10,25,8,"img"],[36,13,25,11],[36,14,25,12,"onerror"],[36,21,25,19],[36,24,25,22],[36,30,25,28,"resolve"],[36,37,25,35],[36,38,25,36],[36,43,25,41],[36,44,25,42],[37,8,26,6],[37,9,26,7],[37,10,26,8],[38,6,27,4],[38,7,27,5],[38,8,27,6],[39,4,28,2],[40,4,30,2],[40,10,30,8,"clearMemoryCache"],[40,26,30,24,"clearMemoryCache"],[40,27,30,24],[40,29,30,45],[41,6,31,4],[41,13,31,11],[41,18,31,16],[42,4,32,2],[43,4,34,2],[43,10,34,8,"clearDiskCache"],[43,24,34,22,"clearDiskCache"],[43,25,34,22],[43,27,34,43],[44,6,35,4],[44,13,35,11],[44,18,35,16],[45,4,36,2],[46,4,38,2,"configureCache"],[46,18,38,16,"configureCache"],[46,19,38,17,"_"],[46,20,38,36],[46,22,38,44],[46,23,38,45],[47,4,40,2],[47,10,40,8,"loadAsync"],[47,19,40,17,"loadAsync"],[47,20,40,18,"source"],[47,26,40,37],[47,28,40,58],[48,6,41,4],[48,10,41,8],[48,11,41,9,"source"],[48,17,41,15],[48,18,41,16,"uri"],[48,21,41,19],[48,23,41,21],[49,8,42,6],[50,8,43,6],[50,14,43,12],[50,18,43,16,"Error"],[50,23,43,21],[50,24,43,22],[50,79,43,77],[50,80,43,78],[51,6,44,4],[52,6,45,4],[52,12,45,10,"response"],[52,20,45,18],[52,23,45,21],[52,29,45,27,"fetch"],[52,34,45,32],[52,35,45,33,"source"],[52,41,45,39],[52,42,45,40,"uri"],[52,45,45,43],[52,47,45,45],[53,8,46,6,"headers"],[53,15,46,13],[53,17,46,15,"source"],[53,23,46,21],[53,24,46,22,"headers"],[54,6,47,4],[54,7,47,5],[54,8,47,6],[55,6,49,4],[55,10,49,8],[55,11,49,9,"response"],[55,19,49,17],[55,20,49,18,"ok"],[55,22,49,20],[55,24,49,22],[56,8,50,6],[56,14,50,12],[56,18,50,16,"Error"],[56,23,50,21],[56,24,50,22],[56,70,50,68,"response"],[56,78,50,76],[56,79,50,77,"status"],[56,85,50,83],[56,87,50,85],[56,88,50,86],[57,6,51,4],[58,6,52,4],[58,12,52,10,"blob"],[58,16,52,14],[58,19,52,17],[58,25,52,23,"response"],[58,33,52,31],[58,34,52,32,"blob"],[58,38,52,36],[58,39,52,37],[58,40,52,38],[59,6,53,4],[59,12,53,10,"imageObjectUrl"],[59,26,53,24],[59,29,53,27,"URL"],[59,32,53,30],[59,33,53,31,"createObjectURL"],[59,48,53,46],[59,49,53,47,"blob"],[59,53,53,51],[59,54,53,52],[60,6,54,4],[60,12,54,10,"image"],[60,17,54,15],[60,20,54,18],[60,26,54,24,"loadImageElementAsync"],[60,47,54,45],[60,48,54,46,"imageObjectUrl"],[60,62,54,60],[60,63,54,61],[61,6,56,4],[61,13,56,11,"ImageRefWeb"],[61,24,56,22],[61,25,56,22,"default"],[61,32,56,22],[61,33,56,23,"init"],[61,37,56,27],[61,38,57,6,"imageObjectUrl"],[61,52,57,20],[61,54,58,6,"image"],[61,59,58,11],[61,60,58,12,"width"],[61,65,58,17],[61,67,59,6,"image"],[61,72,59,11],[61,73,59,12,"height"],[61,79,59,18],[61,81,60,6,"response"],[61,89,60,14],[61,90,60,15,"headers"],[61,97,60,22],[61,98,60,23,"get"],[61,101,60,26],[61,102,60,27],[61,116,60,41],[61,117,61,4],[61,118,61,5],[62,4,62,2],[63,4,64,2,"getCachePathAsync"],[63,21,64,19,"getCachePathAsync"],[63,22,64,20,"_"],[63,23,64,29],[63,25,64,55],[64,6,65,4],[64,13,65,11,"Promise"],[64,20,65,18],[64,21,65,19,"resolve"],[64,28,65,26],[64,29,65,27],[64,33,65,31],[64,34,65,32],[65,4,66,2],[66,4,68,2,"generateBlurhashAsync"],[66,25,68,23,"generateBlurhashAsync"],[66,26,69,4,"_"],[66,27,69,24],[66,29,70,4,"__"],[66,31,70,60],[66,33,71,28],[67,6,72,4],[67,12,72,10],[67,16,72,14,"Error"],[67,21,72,19],[67,22,72,20],[67,68,72,66],[67,69,72,67],[68,4,73,2],[69,4,75,2,"generateThumbhashAsync"],[69,26,75,24,"generateThumbhashAsync"],[69,27,75,25,"_"],[69,28,75,45],[69,30,75,64],[70,6,76,4],[70,12,76,10],[70,16,76,14,"Error"],[70,21,76,19],[70,22,76,20],[70,69,76,67],[70,70,76,68],[71,4,77,2],[72,2,78,0],[74,2,80,0],[75,0,81,0],[76,0,82,0],[77,2,83,0],[77,17,83,15,"loadImageElementAsync"],[77,38,83,36,"loadImageElementAsync"],[77,39,83,37,"src"],[77,42,83,48],[77,44,83,77],[78,4,84,2],[78,11,84,9],[78,15,84,13,"Promise"],[78,22,84,20],[78,23,84,21],[78,24,84,22,"resolve"],[78,31,84,29],[78,33,84,31,"reject"],[78,39,84,37],[78,44,84,42],[79,6,85,4],[79,12,85,10,"image"],[79,17,85,15],[79,20,85,18,"document"],[79,28,85,26],[79,29,85,27,"createElement"],[79,42,85,40],[79,43,85,41],[79,48,85,46],[79,49,85,47],[80,6,87,4,"image"],[80,11,87,9],[80,12,87,10,"onload"],[80,18,87,16],[80,21,87,19],[80,27,87,25,"resolve"],[80,34,87,32],[80,35,87,33,"image"],[80,40,87,38],[80,41,87,39],[81,6,88,4,"image"],[81,11,88,9],[81,12,88,10,"onerror"],[81,19,88,17],[81,22,88,20],[81,28,88,26,"reject"],[81,34,88,32],[81,35,88,33],[81,39,88,37,"Error"],[81,44,88,42],[81,45,88,43],[81,79,88,77,"src"],[81,82,88,80],[81,85,88,83],[81,86,88,84],[81,87,88,85],[82,6,89,4,"image"],[82,11,89,9],[82,12,89,10,"src"],[82,15,89,13],[82,18,89,16,"src"],[82,21,89,19],[83,4,90,2],[83,5,90,3],[83,6,90,4],[84,2,91,0],[85,2,93,0],[85,6,93,0,"_default"],[85,14,93,0],[85,17,93,15],[85,21,93,15,"registerWebModule"],[85,37,93,32],[85,38,93,32,"registerWebModule"],[85,55,93,32],[85,57,93,33,"ImageModule"],[85,68,93,44],[85,70,93,46],[85,81,93,57],[85,82,93,58],[86,0,93,59],[86,3]],"functionMap":{"names":["<global>","ImageModule","prefetch","Promise$argument_0","urlsArray.forEach$argument_0","img.onload","img.onerror","clearMemoryCache","clearDiskCache","configureCache","loadAsync","getCachePathAsync","generateBlurhashAsync","generateThumbhashAsync","loadImageElementAsync","image.onload","image.onerror"],"mappings":"AAA;ACK;ECG;gCCG;wBCG;qBCG;SDM;sBEC,oBF;ODC;KDC;GDC;EME;GNE;EOE;GPE;EQE,4CR;ESE;GTsB;EUE;GVE;EWE;GXK;EYE;GZE;CDC;AcK;qBXC;mBYG,oBZ;oBaC,iEb;GWE;CdC"},"hasCjsExports":false},"type":"js/module"}]}