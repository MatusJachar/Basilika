{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./resolveAssetSource","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":47},"end":{"line":3,"column":54,"index":101}}],"key":"qiXdfzfF08Pne6HL41q9H4FDwsA=","exportNames":["*"],"imports":1}},{"name":"./resolveHashString","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":102},"end":{"line":4,"column":84,"index":186}}],"key":"lCGXVqBXYTWy+eggX9g5j1ljhdQ=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":263},"end":{"line":6,"column":38,"index":301}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"blurhash\", \"thumbhash\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.isBlurhashString = isBlurhashString;\n  exports.isThumbhashString = isThumbhashString;\n  exports.isSFSymbolString = isSFSymbolString;\n  exports.resolveSFSymbolString = resolveSFSymbolString;\n  exports.resolveSource = resolveSource;\n  exports.resolveSources = resolveSources;\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _resolveAssetSource = require(_dependencyMap[2], \"./resolveAssetSource\");\n  var resolveAssetSource = _interopDefault(_resolveAssetSource);\n  var _resolveHashString = require(_dependencyMap[3], \"./resolveHashString\");\n  var _utils = require(_dependencyMap[4], \"../utils\");\n  function isBlurhashString(str) {\n    return /^(blurhash:\\/)+[\\w#$%*+,\\-.:;=?@[\\]^_{}|~]+(\\/[\\d.]+)*$/.test(str);\n  }\n\n  // Base64 strings will be recognized as blurhash by default (to keep compatibility),\n  // interpret as thumbhash only if correct uri scheme is provided\n  function isThumbhashString(str) {\n    return str.startsWith('thumbhash:/');\n  }\n\n  // SF Symbols are specified with the sf: prefix, e.g. \"sf:star\" or \"sf:star.fill\"\n  function isSFSymbolString(str) {\n    return str.startsWith('sf:');\n  }\n  function resolveSFSymbolString(str) {\n    // Extract the symbol name after \"sf:\" prefix\n    const symbolName = str.slice(3);\n    return {\n      uri: `sf:/${symbolName}`\n    };\n  }\n  function resolveSource(source) {\n    if (typeof source === 'string') {\n      if (isBlurhashString(source)) {\n        return (0, _resolveHashString.resolveBlurhashString)(source);\n      } else if (isThumbhashString(source)) {\n        return (0, _resolveHashString.resolveThumbhashString)(source);\n      } else if (isSFSymbolString(source)) {\n        return resolveSFSymbolString(source);\n      }\n      return {\n        uri: source\n      };\n    }\n    if (typeof source === 'number') {\n      return (0, resolveAssetSource.default)(source);\n    }\n    if (typeof source === 'object' && (source?.blurhash || source?.thumbhash)) {\n      const {\n          blurhash,\n          thumbhash\n        } = source,\n        restSource = (0, _objectWithoutPropertiesLoose.default)(source, _excluded);\n      const resolved = thumbhash ? (0, _resolveHashString.resolveThumbhashString)(thumbhash) : (0, _resolveHashString.resolveBlurhashString)(blurhash);\n      return Object.assign({}, resolved, restSource);\n    }\n    return source ?? null;\n  }\n\n  /**\n   * Resolves provided `source` prop to an array of objects expected by the native implementation.\n   */\n  function resolveSources(sources) {\n    if (Array.isArray(sources)) {\n      return sources.map(resolveSource).filter(Boolean);\n    }\n    if ((0, _utils.isImageRef)(sources)) {\n      if (_expoModulesCore.Platform.OS === 'web') {\n        return sources;\n      }\n      // @ts-expect-error\n      return sources.__expo_shared_object_id__;\n    }\n    return [resolveSource(sources)].filter(Boolean);\n  }\n});","lineCount":91,"map":[[13,2,8,0,"exports"],[13,9,8,0],[13,10,8,0,"isBlurhashString"],[13,26,8,0],[13,29,8,0,"isBlurhashString"],[13,45,8,0],[14,2,14,0,"exports"],[14,9,14,0],[14,10,14,0,"isThumbhashString"],[14,27,14,0],[14,30,14,0,"isThumbhashString"],[14,47,14,0],[15,2,19,0,"exports"],[15,9,19,0],[15,10,19,0,"isSFSymbolString"],[15,26,19,0],[15,29,19,0,"isSFSymbolString"],[15,45,19,0],[16,2,23,0,"exports"],[16,9,23,0],[16,10,23,0,"resolveSFSymbolString"],[16,31,23,0],[16,34,23,0,"resolveSFSymbolString"],[16,55,23,0],[17,2,29,0,"exports"],[17,9,29,0],[17,10,29,0,"resolveSource"],[17,23,29,0],[17,26,29,0,"resolveSource"],[17,39,29,0],[18,2,59,0,"exports"],[18,9,59,0],[18,10,59,0,"resolveSources"],[18,24,59,0],[18,27,59,0,"resolveSources"],[18,41,59,0],[19,2,71,1],[19,6,71,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[19,54,71,1],[19,57,71,1,"require"],[19,64,71,1],[19,65,71,1,"_dependencyMap"],[19,79,71,1],[20,2,71,1],[20,6,71,1,"_objectWithoutPropertiesLoose"],[20,35,71,1],[20,38,71,1,"_interopDefault"],[20,53,71,1],[20,54,71,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[20,102,71,1],[21,2,1,0],[21,6,1,0,"_expoModulesCore"],[21,22,1,0],[21,25,1,0,"require"],[21,32,1,0],[21,33,1,0,"_dependencyMap"],[21,47,1,0],[22,2,3,0],[22,6,3,0,"_resolveAssetSource"],[22,25,3,0],[22,28,3,0,"require"],[22,35,3,0],[22,36,3,0,"_dependencyMap"],[22,50,3,0],[23,2,3,0],[23,6,3,0,"resolveAssetSource"],[23,24,3,0],[23,27,3,0,"_interopDefault"],[23,42,3,0],[23,43,3,0,"_resolveAssetSource"],[23,62,3,0],[24,2,4,0],[24,6,4,0,"_resolveHashString"],[24,24,4,0],[24,27,4,0,"require"],[24,34,4,0],[24,35,4,0,"_dependencyMap"],[24,49,4,0],[25,2,6,0],[25,6,6,0,"_utils"],[25,12,6,0],[25,15,6,0,"require"],[25,22,6,0],[25,23,6,0,"_dependencyMap"],[25,37,6,0],[26,2,8,7],[26,11,8,16,"isBlurhashString"],[26,27,8,32,"isBlurhashString"],[26,28,8,33,"str"],[26,31,8,44],[26,33,8,55],[27,4,9,2],[27,11,9,9],[27,68,9,66],[27,69,9,67,"test"],[27,73,9,71],[27,74,9,72,"str"],[27,77,9,75],[27,78,9,76],[28,2,10,0],[30,2,12,0],[31,2,13,0],[32,2,14,7],[32,11,14,16,"isThumbhashString"],[32,28,14,33,"isThumbhashString"],[32,29,14,34,"str"],[32,32,14,45],[32,34,14,56],[33,4,15,2],[33,11,15,9,"str"],[33,14,15,12],[33,15,15,13,"startsWith"],[33,25,15,23],[33,26,15,24],[33,39,15,37],[33,40,15,38],[34,2,16,0],[36,2,18,0],[37,2,19,7],[37,11,19,16,"isSFSymbolString"],[37,27,19,32,"isSFSymbolString"],[37,28,19,33,"str"],[37,31,19,44],[37,33,19,55],[38,4,20,2],[38,11,20,9,"str"],[38,14,20,12],[38,15,20,13,"startsWith"],[38,25,20,23],[38,26,20,24],[38,31,20,29],[38,32,20,30],[39,2,21,0],[40,2,23,7],[40,11,23,16,"resolveSFSymbolString"],[40,32,23,37,"resolveSFSymbolString"],[40,33,23,38,"str"],[40,36,23,49],[40,38,23,64],[41,4,24,2],[42,4,25,2],[42,10,25,8,"symbolName"],[42,20,25,18],[42,23,25,21,"str"],[42,26,25,24],[42,27,25,25,"slice"],[42,32,25,30],[42,33,25,31],[42,34,25,32],[42,35,25,33],[43,4,26,2],[43,11,26,9],[44,6,26,11,"uri"],[44,9,26,14],[44,11,26,16],[44,18,26,23,"symbolName"],[44,28,26,33],[45,4,26,36],[45,5,26,37],[46,2,27,0],[47,2,29,7],[47,11,29,16,"resolveSource"],[47,24,29,29,"resolveSource"],[47,25,29,30,"source"],[47,31,29,75],[47,33,29,97],[48,4,30,2],[48,8,30,6],[48,15,30,13,"source"],[48,21,30,19],[48,26,30,24],[48,34,30,32],[48,36,30,34],[49,6,31,4],[49,10,31,8,"isBlurhashString"],[49,26,31,24],[49,27,31,25,"source"],[49,33,31,31],[49,34,31,32],[49,36,31,34],[50,8,32,6],[50,15,32,13],[50,19,32,13,"resolveBlurhashString"],[50,37,32,34],[50,38,32,34,"resolveBlurhashString"],[50,59,32,34],[50,61,32,35,"source"],[50,67,32,41],[50,68,32,42],[51,6,33,4],[51,7,33,5],[51,13,33,11],[51,17,33,15,"isThumbhashString"],[51,34,33,32],[51,35,33,33,"source"],[51,41,33,39],[51,42,33,40],[51,44,33,42],[52,8,34,6],[52,15,34,13],[52,19,34,13,"resolveThumbhashString"],[52,37,34,35],[52,38,34,35,"resolveThumbhashString"],[52,60,34,35],[52,62,34,36,"source"],[52,68,34,42],[52,69,34,43],[53,6,35,4],[53,7,35,5],[53,13,35,11],[53,17,35,15,"isSFSymbolString"],[53,33,35,31],[53,34,35,32,"source"],[53,40,35,38],[53,41,35,39],[53,43,35,41],[54,8,36,6],[54,15,36,13,"resolveSFSymbolString"],[54,36,36,34],[54,37,36,35,"source"],[54,43,36,41],[54,44,36,42],[55,6,37,4],[56,6,38,4],[56,13,38,11],[57,8,38,13,"uri"],[57,11,38,16],[57,13,38,18,"source"],[58,6,38,25],[58,7,38,26],[59,4,39,2],[60,4,40,2],[60,8,40,6],[60,15,40,13,"source"],[60,21,40,19],[60,26,40,24],[60,34,40,32],[60,36,40,34],[61,6,41,4],[61,13,41,11],[61,17,41,11,"resolveAssetSource"],[61,35,41,29],[61,36,41,29,"default"],[61,43,41,29],[61,45,41,30,"source"],[61,51,41,36],[61,52,41,37],[62,4,42,2],[63,4,43,2],[63,8,43,6],[63,15,43,13,"source"],[63,21,43,19],[63,26,43,24],[63,34,43,32],[63,39,43,37,"source"],[63,45,43,43],[63,47,43,45,"blurhash"],[63,55,43,53],[63,59,43,57,"source"],[63,65,43,63],[63,67,43,65,"thumbhash"],[63,76,43,74],[63,77,43,75],[63,79,43,77],[64,6,44,4],[64,12,44,10],[65,10,44,12,"blurhash"],[65,18,44,20],[66,10,44,22,"thumbhash"],[67,8,44,47],[67,9,44,48],[67,12,44,51,"source"],[67,18,44,57],[68,8,44,36,"restSource"],[68,18,44,46],[68,25,44,46,"_objectWithoutPropertiesLoose"],[68,54,44,46],[68,55,44,46,"default"],[68,62,44,46],[68,64,44,51,"source"],[68,70,44,57],[68,72,44,57,"_excluded"],[68,81,44,57],[69,6,45,4],[69,12,45,10,"resolved"],[69,20,45,18],[69,23,45,21,"thumbhash"],[69,32,45,30],[69,35,46,8],[69,39,46,8,"resolveThumbhashString"],[69,57,46,30],[69,58,46,30,"resolveThumbhashString"],[69,80,46,30],[69,82,46,31,"thumbhash"],[69,91,46,40],[69,92,46,41],[69,95,47,8],[69,99,47,8,"resolveBlurhashString"],[69,117,47,29],[69,118,47,29,"resolveBlurhashString"],[69,139,47,29],[69,141,47,30,"blurhash"],[69,149,47,48],[69,150,47,49],[70,6,48,4],[70,13,48,4,"Object"],[70,19,48,4],[70,20,48,4,"assign"],[70,26,48,4],[70,31,49,9,"resolved"],[70,39,49,17],[70,41,50,9,"restSource"],[70,51,50,19],[71,4,52,2],[72,4,53,2],[72,11,53,9,"source"],[72,17,53,15],[72,21,53,19],[72,25,53,23],[73,2,54,0],[75,2,56,0],[76,0,57,0],[77,0,58,0],[78,2,59,7],[78,11,59,16,"resolveSources"],[78,25,59,30,"resolveSources"],[78,26,59,31,"sources"],[78,33,59,61],[78,35,59,91],[79,4,60,2],[79,8,60,6,"Array"],[79,13,60,11],[79,14,60,12,"isArray"],[79,21,60,19],[79,22,60,20,"sources"],[79,29,60,27],[79,30,60,28],[79,32,60,30],[80,6,61,4],[80,13,61,11,"sources"],[80,20,61,18],[80,21,61,19,"map"],[80,24,61,22],[80,25,61,23,"resolveSource"],[80,38,61,36],[80,39,61,37],[80,40,61,38,"filter"],[80,46,61,44],[80,47,61,45,"Boolean"],[80,54,61,52],[80,55,61,53],[81,4,62,2],[82,4,63,2],[82,8,63,6],[82,12,63,6,"isImageRef"],[82,18,63,16],[82,19,63,16,"isImageRef"],[82,29,63,16],[82,31,63,17,"sources"],[82,38,63,24],[82,39,63,25],[82,41,63,27],[83,6,64,4],[83,10,64,8,"Platform"],[83,26,64,16],[83,27,64,16,"Platform"],[83,35,64,16],[83,36,64,17,"OS"],[83,38,64,19],[83,43,64,24],[83,48,64,29],[83,50,64,31],[84,8,65,6],[84,15,65,13,"sources"],[84,22,65,20],[85,6,66,4],[86,6,67,4],[87,6,68,4],[87,13,68,11,"sources"],[87,20,68,18],[87,21,68,19,"__expo_shared_object_id__"],[87,46,68,44],[88,4,69,2],[89,4,70,2],[89,11,70,9],[89,12,70,10,"resolveSource"],[89,25,70,23],[89,26,70,24,"sources"],[89,33,70,31],[89,34,70,32],[89,35,70,33],[89,36,70,34,"filter"],[89,42,70,40],[89,43,70,41,"Boolean"],[89,50,70,48],[89,51,70,49],[90,2,71,0],[91,0,71,1],[91,3]],"functionMap":{"names":["<global>","isBlurhashString","isThumbhashString","isSFSymbolString","resolveSFSymbolString","resolveSource","resolveSources"],"mappings":"AAA;OCO;CDE;OEI;CFE;OGG;CHE;OIE;CJI;OKE;CLyB;OMK;CNY"},"hasCjsExports":false},"type":"js/module"}]}